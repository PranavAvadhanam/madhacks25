/* This CSS defines the layout and aesthetics for the Textual app */

Screen {
    align: center middle;
    layer: main;
    background: transparent;
    color: #D3C6AA; /* foreground */
    layout: grid;

    /* Scrollbar Styling */
    scrollbar-size-vertical: 0;
    scrollbar-size-horizontal: 0;
}

/* FIX: Removes height restriction (which caused the border) and applies a 
        translucent black background for a proper dimming effect. */
Screen.dimmed {
    layout: grid;
    /* Use a translucent black background to dim the main view */
    background: #000000aa; /* Black with approx 66% opacity */
    /* Remove height and align properties which were incorrectly framing the screen */
}

Header {
    align: center middle;
    layer: main;
    dock: top;
    height: 1;
    background: #272E33; /* surface */
    color: #D3C6AA; /* foreground */
    text-align: center;
}

Footer {
    align: center middle;
    layer: main;
    dock: bottom;
    height: 0;
    background: #272E33; /* surface */
    color: #D3C6AA; /* foreground */
    text-align: center;
}

#packet_table {
    align: center middle;
    layer: main;
    height: 1fr;
    border: tall #2E383C; /* panel */
    overflow-x: scroll;
    overflow-y: scroll;
    scrollbar-size-vertical: 2;
    scrollbar-size-horizontal: 1;
    background: #1E2326; /* background */
    color: #D3C6AA; /* foreground */
}

#command_input {
    align: center middle;
    layer: main;
    dock: bottom;
    height: 3;
    background: #272E33; /* surface */
    color: #D3C6AA; /* foreground */
    border: round #A7C080; /* primary */
    padding: 0 1;
}

#detail_view {
    align: center middle;
    content-align: center middle;
    layer: overlay;
    display: none;

    /* REVISED STYLES: Using Gruvbox colors for consistency */
    background: #1E2326; /* background */
    border: none;
    color: #DBBC7F; /* accent */
    padding: 1 3;
    box-sizing: border-box;
    
    /* Positioning and Sizing */
    width: 80%;
    height: 70%;
    max-width: 100;
    max-height: 30;
    
    /* Ensure content scrolls if too long */
    overflow-y: scroll;
    scrollbar-size-vertical: 0;
    scrollbar-size-horizontal: 0;
    border-subtitle-align: center;
}

#detail_view.visible {
    /* Use consistent border and display setting */
    border: double #DBBC7F; /* accent */
    margin: 0;
    display: block;
    box-sizing: border-box;
}
